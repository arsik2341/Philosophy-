
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>–ú—É–¥—Ä–æ—Å—Ç—å —Å–∫–≤–æ–∑—å –≤–µ–∫–∞</title>
    <style>
        body {
            margin: 0;
            font-family: 'Georgia', serif;
            background-color: #2e2b29;
            color: #e3d5c0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        h1 {
            font-size: 2.5em;
            margin-top: 20px;
            margin-bottom: 10px;
            text-align: center;
            color: #f0e6d2;
        }
        p.description {
            font-size: 1em;
            max-width: 600px;
            text-align: center;
            color: #c2b6a4;
            margin-bottom: 20px;
        }
        select, button {
            margin: 5px;
            padding: 10px;
            font-size: 1em;
            border-radius: 5px;
            border: none;
            cursor: pointer;
        }
        select {
            background-color: #4a3f35;
            color: #f0e6d2;
        }
        button {
            background-color: #66503c;
            color: #f0e6d2;
        }
        .quote-box {
            background-color: #3e352f;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            margin-top: 20px;
            text-align: center;
            position: relative;
        }
        .quote-text {
            font-size: 1.3em;
            margin-bottom: 10px;
            font-style: italic;
        }
        .quote-author {
            font-weight: bold;
            margin-top: 10px;
        }
        .quote-source {
            font-size: 0.9em;
            color: #b9ada0;
        }
        .copy-icon {
            font-size: 1.5em;
            cursor: pointer;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>–ú—É–¥—Ä–æ—Å—Ç—å —Å–∫–≤–æ–∑—å –≤–µ–∫–∞</h1>
    <p class="description">–°–ª—É—à–∞–π –≥–æ–ª–æ—Å–∞ —Å–∫–≤–æ–∑—å –≤–µ–∫–∞. –í–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã –∏ —Å–æ–º–Ω–µ–Ω–∏—è ‚Äî –∫–ª—é—á–∏ –∫ –Ω–æ–≤–æ–º—É –≤–æ—Å–ø—Ä–∏—è—Ç–∏—é –º–∏—Ä–∞.</p>
    <select id="categorySelect"></select>
    <select id="authorSelect"></select>
    <div class="quote-box" id="quoteBox">
        <div class="quote-text" id="quoteText">–ó–∞–≥—Ä—É–∑–∫–∞ —Ü–∏—Ç–∞—Ç—ã...</div>
        <div class="quote-author" id="quoteAuthor"></div>
        <div class="quote-source" id="quoteSource"></div>
        <div class="copy-icon" id="copyIcon">üìã</div>
    </div>
    <button onclick="showNewQuote()">–ù–æ–≤–∞—è —Ü–∏—Ç–∞—Ç–∞</button>

    <script src="quotes_FULL_FOR_GITHUB.js"></script>
    <script>
        const categorySelect = document.getElementById("categorySelect");
        const authorSelect = document.getElementById("authorSelect");
        const quoteText = document.getElementById("quoteText");
        const quoteAuthor = document.getElementById("quoteAuthor");
        const quoteSource = document.getElementById("quoteSource");
        const copyIcon = document.getElementById("copyIcon");

        let currentQuotes = [];
        let shownQuotes = [];

        function initCategories() {
            categorySelect.innerHTML = "";
            Object.keys(quotes).forEach(category => {
                const option = document.createElement("option");
                option.value = category;
                option.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                categorySelect.appendChild(option);
            });
            categorySelect.addEventListener("change", updateAuthors);
            authorSelect.addEventListener("change", () => showNewQuote(true));
            updateAuthors();
        }

        function updateAuthors() {
            const selectedCategory = categorySelect.value;
            currentQuotes = quotes[selectedCategory] || [];
            shownQuotes = [];
            const authors = [...new Set(currentQuotes.map(q => q.author))];
            authorSelect.innerHTML = "";
            const allOption = document.createElement("option");
            allOption.value = "all";
            allOption.textContent = "–í—Å–µ –∞–≤—Ç–æ—Ä—ã";
            authorSelect.appendChild(allOption);
            authors.forEach(author => {
                const option = document.createElement("option");
                option.value = author;
                option.textContent = author;
                authorSelect.appendChild(option);
            });
            showNewQuote(true);
        }

        function showNewQuote(force = false) {
            const selectedAuthor = authorSelect.value;
            let availableQuotes = currentQuotes.filter(q => selectedAuthor === "all" || q.author === selectedAuthor);
            if (availableQuotes.length === 0) {
                quoteText.textContent = "–¶–∏—Ç–∞—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.";
                quoteAuthor.textContent = "";
                quoteSource.textContent = "";
                return;
            }

            let remainingQuotes = availableQuotes.filter(q => !shownQuotes.includes(q));
            if (remainingQuotes.length === 0 || force) {
                shownQuotes = [];
                remainingQuotes = availableQuotes;
            }

            const randomQuote = remainingQuotes[Math.floor(Math.random() * remainingQuotes.length)];
            quoteText.textContent = `"${randomQuote.text}"`;
            quoteAuthor.textContent = `‚Äî ${randomQuote.author}`;
            quoteSource.textContent = randomQuote.source;
            shownQuotes.push(randomQuote);
        }

        copyIcon.addEventListener("click", () => {
            const textToCopy = `${quoteText.textContent}
${quoteAuthor.textContent}
${quoteSource.textContent}`;
            navigator.clipboard.writeText(textToCopy).then(() => {
                copyIcon.textContent = "‚úÖ";
                setTimeout(() => { copyIcon.textContent = "üìã"; }, 1000);
            });
        });

        initCategories();
    </script>
</body>
</html>
